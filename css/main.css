/* ===================================
   IXI Labs - Main Styles
   Production-ready, accessible, responsive
   =================================== */

/* ===================================
   RESET & BASE
   =================================== */
*,
*::before,
*::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }
}

body {
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-regular);
    font-size: var(--font-size-body-md);
    line-height: var(--line-height-body-md);
    color: var(--text-01);
    background-color: var(--surface-01);
    position: relative;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ===================================
   FOCUS STATES (Accessibility)
   =================================== */
*:focus {
    outline: none;
}

*:focus-visible {
    outline: var(--outline-width-md) solid var(--outline-action-primary-default);
    outline-offset: 0.125rem;
    border-radius: var(--radius-xs);
}

a:focus-visible,
button:focus-visible {
    outline-offset: 0.25rem;
}

/* Skip to main content link (accessibility) */
.skip-to-main {
    position: absolute;
    top: -100%;
    left: 0;
    background: var(--surface-action-default);
    color: var(--text-on-action);
    padding: var(--spacing-sm) var(--spacing-md);
    text-decoration: none;
    border-radius: var(--radius-sm);
    z-index: 10000;
}

.skip-to-main:focus {
    top: var(--spacing-md);
    left: var(--spacing-md);
}

/* ===================================
   GRID OVERLAY SYSTEM
   4 columns desktop, 2 mobile (decorative)
   =================================== */
.grid-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    max-width: 90rem; /* 1440px */
    margin: 0 auto;
    padding: 0 var(--spacing-md);
    pointer-events: none;
    z-index: 0;
    opacity: 0.5;
}

.grid-overlay::before,
.grid-overlay::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 1px;
    background: var(--outline-01);
}

.grid-overlay::before {
    left: calc(25% + var(--spacing-md));
}

.grid-overlay::after {
    left: calc(50% + var(--spacing-md));
}

/* Tablet: 2 columns */
@media (max-width: 64rem) {
    .grid-overlay {
        grid-template-columns: repeat(2, 1fr);
    }

    .grid-overlay::before {
        left: calc(50% + var(--spacing-md));
    }

    .grid-overlay::after {
        display: none;
    }
}

/* Mobile: decorative only */
@media (max-width: 48rem) {
    .grid-overlay {
        grid-template-columns: 1fr;
        opacity: 0.3;
    }

    .grid-overlay::before {
        left: calc(33.333% + var(--spacing-sm));
    }

    .grid-overlay::after {
        display: block;
        left: calc(66.666% + var(--spacing-sm));
    }
}

/* ===================================
   LAYOUT CONTAINERS
   =================================== */
.container {
    max-width: 90rem; /* 1440px */
    margin: 0 auto;
    padding: 0 var(--spacing-md);
}

@media (min-width: 48rem) {
    .container {
        padding: 0 var(--spacing-xl);
    }
}

@media (min-width: 64rem) {
    .container {
        padding: 0 var(--spacing-xxl);
    }
}

/* ===================================
   TYPOGRAPHY
   =================================== */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-primary);
    font-weight: var(--font-weight-semibold);
    color: var(--text-01);
    margin-bottom: var(--spacing-md);
}

.display-lg {
    font-family: var(--font-primary);
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-display-lg);
    line-height: var(--line-height-display-lg);
    letter-spacing: var(--letter-spacing-display-lg);
}

.display-md {
    font-family: var(--font-primary);
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-display-md);
    line-height: var(--line-height-display-md);
    letter-spacing: var(--letter-spacing-display-md);
}

h1, .heading-lg {
    font-size: var(--font-size-heading-lg);
    line-height: var(--line-height-heading-lg);
    letter-spacing: var(--letter-spacing-heading-lg);
}

h2, .heading-md {
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-heading-md);
    line-height: var(--line-height-heading-md);
    letter-spacing: var(--letter-spacing-heading-md);
}

h3, .heading-sm {
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-heading-sm);
    line-height: var(--line-height-heading-sm);
    letter-spacing: var(--letter-spacing-heading-sm);
}

h4, .heading-xs {
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-heading-xs);
    line-height: var(--line-height-heading-xs);
    letter-spacing: var(--letter-spacing-heading-xs);
}

p {
    margin-bottom: var(--spacing-md);
}

.body-lg {
    font-size: var(--font-size-body-lg);
    line-height: var(--line-height-body-lg);
    letter-spacing: var(--letter-spacing-body-lg);
}

.body-md {
    font-size: var(--font-size-body-md);
    line-height: var(--line-height-body-md);
    letter-spacing: var(--letter-spacing-body-md);
}

.body-sm {
    font-size: var(--font-size-body-sm);
    line-height: var(--line-height-body-sm);
    letter-spacing: var(--letter-spacing-body-sm);
}

.label-lg,
.label-md,
.label-sm,
.label-xs {
    font-weight: var(--font-weight-semibold);
}

.label-lg {
    font-size: var(--font-size-label-lg);
    line-height: var(--line-height-label-lg);
    letter-spacing: var(--letter-spacing-label-lg);
}

.label-md {
    font-size: var(--font-size-label-md);
    line-height: var(--line-height-label-md);
    letter-spacing: var(--letter-spacing-label-md);
}

/* ===================================
   NAVIGATION (Accessible)
   =================================== */
nav {
    position: relative;
    z-index: 100;
}

nav ul {
    list-style: none;
    display: flex;
    gap: var(--spacing-lg);
}

nav a {
    color: var(--text-action-default);
    text-decoration: none;
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-label-md);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--radius-sm);
    transition: color 0.2s ease, background-color 0.2s ease;
}

nav a:hover {
    color: var(--text-action-hover);
    background-color: var(--surface-02);
}

nav a:active {
    color: var(--text-action-pressed);
}

nav a[aria-current="page"] {
    color: var(--text-01);
    background-color: var(--surface-03);
    font-weight: var(--font-weight-semibold);
}

/* ===================================
   MAIN CONTENT
   =================================== */
main {
    position: relative;
    z-index: 1;
    min-height: 50vh;
}

/* ===================================
   SECTIONS
   =================================== */
section {
    padding: var(--spacing-super) 0;
}

@media (min-width: 48rem) {
    section {
        padding: var(--spacing-super-lg) 0;
    }
}

@media (min-width: 64rem) {
    section {
        padding: var(--spacing-super-xl) 0;
    }
}

/* ===================================
   BUTTONS
   See button.css for full component implementation
   =================================== */

/* ===================================
   CARDS
   =================================== */
.card {
    background-color: var(--surface-02);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
    border: 1px solid var(--outline-01);
}

@media (min-width: 48rem) {
    .card {
        padding: var(--spacing-xxl);
    }
}

/* ===================================
   GRID LAYOUTS
   =================================== */
.grid {
    display: grid;
    gap: var(--spacing-xl);
}

.grid-2 {
    grid-template-columns: 1fr;
}

@media (min-width: 48rem) {
    .grid-2 {
        grid-template-columns: repeat(2, 1fr);
    }
}

.grid-3 {
    grid-template-columns: 1fr;
}

@media (min-width: 48rem) {
    .grid-3 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 64rem) {
    .grid-3 {
        grid-template-columns: repeat(3, 1fr);
    }
}

.grid-4 {
    grid-template-columns: 1fr;
}

@media (min-width: 48rem) {
    .grid-4 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 64rem) {
    .grid-4 {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* ===================================
   ANIMATIONS (with reduced motion support)
   =================================== */
.fade-in {
    opacity: 0;
    transform: translateY(var(--spacing-lg));
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.fade-in.visible {
    opacity: 1;
    transform: translateY(0);
}

.stagger > * {
    opacity: 0;
    transform: translateY(var(--spacing-lg));
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.stagger.visible > *:nth-child(1) { transition-delay: 0.1s; }
.stagger.visible > *:nth-child(2) { transition-delay: 0.2s; }
.stagger.visible > *:nth-child(3) { transition-delay: 0.3s; }
.stagger.visible > *:nth-child(4) { transition-delay: 0.4s; }
.stagger.visible > *:nth-child(5) { transition-delay: 0.5s; }
.stagger.visible > *:nth-child(6) { transition-delay: 0.6s; }
.stagger.visible > *:nth-child(7) { transition-delay: 0.7s; }
.stagger.visible > *:nth-child(8) { transition-delay: 0.8s; }

.stagger.visible > * {
    opacity: 1;
    transform: translateY(0);
}

/* Disable animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .fade-in,
    .stagger > * {
        opacity: 1;
        transform: none;
        transition: none;
    }
}

/* ===================================
   UTILITIES
   =================================== */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

.text-center {
    text-align: center;
}

.mt-auto {
    margin-top: auto;
}

/* ===================================
   RESPONSIVE IMAGES
   =================================== */
img,
picture,
video,
canvas,
svg {
    display: block;
    max-width: 100%;
    height: auto;
}

/* ===================================
   DARK SECTIONS (using dark tokens)
   =================================== */
.section-dark {
    background-color: var(--surface-dark-01);
    color: var(--text-dark-01);
}

.section-dark h1,
.section-dark h2,
.section-dark h3,
.section-dark h4,
.section-dark h5,
.section-dark h6 {
    color: var(--text-dark-01);
}

.section-dark .card {
    background-color: var(--surface-dark-02);
    border-color: var(--outline-dark-01);
    color: var(--text-dark-01);
}
